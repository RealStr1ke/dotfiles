# Homebrew
if is-executable "brew"; then
	if [ "$(uname)" = "Linux" ]; then
		if [ -d "/home/linuxbrew/.linuxbrew/" ]; then
			PATH="/home/linuxbrew/.linuxbrew/bin:$PATH"
		elif [ -d "$HOME/.linuxbrew" ]; then
			PATH="$HOME/.linuxbrew/bin:$PATH"
		fi
	elif [ "$(uname)" = "Darwin" ]; then
		if [[ "$(/usr/bin/uname -m)" == "arm64" ]]; then
			PATH="/opt/homebrew/bin:$PATH"
		else
			PATH="/usr/local/Homebrew/bin:$PATH"
		fi
	fi
	PATH="$(brew --prefix)/sbin:$PATH"
fi

# Dotfile Binaries
PATH="$HOME/.dotfiles/bin:$PATH";

# Main Binaries
PATH="$HOME/.local/bin:$PATH";
PATH="$HOME/bin:$PATH";

# Use project specific binaries before global ones
PATH="node_modules/.bin:$PATH";
PATH="vendor/bin:$PATH";

# Use current directory's binaries over global ones
# PATH="bin:$PATH"

# Adding Global NPM packages to PATH
if is-executable "npm"; then
	PATH="$(npm bin --location=global):$PATH"
fi

# Remove duplicate PATH entries because why not
PATH="$(perl -e 'print join(":", grep { not $seen{$_}++ } split(/:/, $ENV{PATH}))')"

export PATH;
